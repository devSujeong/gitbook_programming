# Network

## OSI 7계층

네트워크라는 개념은 OSI 7계층 전체에 걸쳐 영향을 미칩니다.  
물리계층과 데이터링크 계층은 하드웨어 영역에 속한 계층이고, 우리가 네트워크를 말할 때는 **네트워크 계층의 IP, 전송계층의 TCP, 응용계층의 HTTP** 입니다.

![](../.gitbook/assets/image%20%281%29.png)

## IP

IP는 인터넷 프로토콜의 역할로 지정한 IP 주소에 데이터를 전달합니다. IP 패킷에는 출발지 IP, 목적지 IP 등이 있습니다.

### IP 프로토콜의 한계

* 비연결성: 패킷을 받을 대상이 없거나 서비스 불능 상태여도 패킷을 전송
* 비신뢰성: 중간에 패킷이 사라질 수 있고, 순서대로 오지 않을 수 있음
* 프로그램 구분이 안됨: 같은 IP를 사용하는 서버에서 여러 애플리케이션을 사용한다면?

## TCP, UDP

전송영역을 담당하는 전송계층에서는 연결형 통신인 TCP와 비연결형 통신인 UDP가 있습니다. 전송데이터에는 출발지 port, 목적지 port, 전송 제어, 순서, 검증 정보 등이 있습니다.

### TCP

* 데이터 전달 보증: 3 way handshake \(SYN, SYN+ACK, ACK\)
* 순서 보장: 순서 안맞게 오면 서버에서 재요청을 보내거나 자체 알고리즘으로 순서 맞춤

### UDP

* IP에 PORT, 체크섬 정도만 추가되어 TCP의 특징이 없지만 단순하고 빠름.

### port

같은 서버에서 프로그램을 구분을 하기 위해서 port를 사용함. `:3000` 이런 식.

## DNS

IP는 기억하기 어렵고 변경될 여지가 있으므로 우리가 기억할 수 있는 문자열로 주소를 사용함.  
DNS에서는 도메인 명을 IP 주소로 변환합니다.

## URI

인터넷 자원을 나타내는 고유 식별자입니다. uri는 url과 urn의 규약이고, url과 urn은 구현체입니다. 

![](../.gitbook/assets/image%20%282%29.png)

* url: 자원의 위치를 나타냄. 위치 변할 수 있음
  * 프로토콜 사용. \(어떤 방식으로 자원에 접근할 것인지를 정한 규약\)
  * http는 80, https 443 port -&gt; well known port 는 생략가능
  * https는 http에 보안 추가.
  * host: 도메인명 또는 IP주소. subdomain+domain+TLD
  * path: 리소스 경로. 계층적 구조
  * query parameter: 키밸류 형태. ?로 시작 &로 추가. query string이라고도 함.
  * fragment: 서버에 전송하는 정보가 아님. html 내부 북마크 등에 사용. anchor라고도 함
* urn: 자원의 이름을 부여함. 이름 변하지 않음 - 활용 잘 안

## 웹브라우저 요청 흐름

1. 주소창에 주소를 입력
2. DNS에서 socket 라이브러리를 통해 IP 조회
3. 웹브라우저가 http 요청 메시지 생성
4. tcp/ip 패킷 생성
5. 네트워크 인터페이스로 넘어가서 인터넷으로 이동
6. 서버가 요청 패킷을 받고 해석한 뒤 응답 패킷을 역으로 보냄.
7. 브라우저가 html 렌더

### 

